<!doctype html><html class="" data-reactroot=""><head><script async="" src="https://www.google-analytics.com/analytics.js"></script><script>
            window.GoogleAnalyticsObject="ga";(window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments);}),(window.ga.l=1*new Date());

            ga('create', 'G-JPPPP5EF38', 'auto');
            ga('send', 'pageview');</script><script type="module" src="/i18n.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/>
<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="description" content="A static site generator powered by Deno + React"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/>
<title data-react-helmet="true">Themes · Pagic</title>
<link data-react-helmet="true" rel="stylesheet" href="/assets/index.css"/><link data-react-helmet="true" id="prismTheme" rel="stylesheet" href="/assets/prism.css"/>
<script data-react-helmet="true" >
    const shouldSetIsDark = document.cookie.includes('is_dark=1') ? true : document.cookie.includes('is_dark=0') ? false : window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (shouldSetIsDark) {
      document.documentElement.classList.add('is_dark');
      document.getElementById('prismTheme').href = "/assets/prism_tomorrow.css";
    }
  </script>
</head><body><header><h1 class="hide_on_mobile"><a href="/">Pagic</a></h1><nav><ul><li class="show_on_mobile flex_center"><a class="czs-menu-l" href="#" style="background-image:url(&quot;/assets/czs-menu-l.svg&quot;)"></a></li><li class="show_on_mobile"><h1 class="mobile_title"><a href="/">Pagic</a></h1></li><li class="hide_on_mobile"><a href="/docs/introduction.html">Docs</a></li><li class="hide_on_mobile"><a href="/themes/">Themes</a></li><li class="hide_on_mobile"><a href="/plugins/">Plugins</a></li><li class="hide_on_mobile"><a href="/blog/">Blog</a></li><li class="hide_on_mobile"><a href="/about/">About</a></li><li style="flex-grow:1"></li><li class="flex_center"><a class="czs-github-logo" href="https://github.com/xcatliu/pagic" target="_blank" style="background-image:url(&quot;/assets/czs-github-logo.svg&quot;)"></a></li><li class="flex_center"><select><option selected="" value="en">English</option><option value="zh-CN">简体中文</option></select></li><li class="toggle_dark flex_center"><span class="czs-sun" style="background-image:url(&quot;/assets/czs-sun.svg&quot;)"></span><span class="czs-sun-l" style="background-image:url(&quot;/assets/czs-sun-l.svg&quot;)"></span><span class="czs-moon" style="background-image:url(&quot;/assets/czs-moon.svg&quot;)"></span><span class="czs-moon-l" style="background-image:url(&quot;/assets/czs-moon-l.svg&quot;)"></span></li></ul></nav></header><aside class="sidebar"><ol><li class=""><a href="/docs/introduction.html" class="nav_link">Introduction</a></li><li class=""><a href="/docs/usage.html" class="nav_link">Usage</a></li><li class=""><a href="/docs/config.html" class="nav_link">Config</a></li><li class=""><a href="/docs/content.html" class="nav_link">Content</a></li><li class=""><a href="/docs/layout.html" class="nav_link">_layout.tsx</a></li><li class=""><a href="/docs/themes.html" class="nav_link active">Themes</a></li><li class=""><a href="/docs/plugins.html" class="nav_link">Plugins</a></li><li class=""><a href="/docs/blog.html" class="nav_link">Blog</a></li><li class=""><a href="/docs/i18n.html" class="nav_link">Internationalization</a></li><li class=""><a href="/docs/deployment.html" class="nav_link">Deployment</a></li><li class=""><a href="/docs/demos.html" class="nav_link">Demos</a></li><li class=""><a href="/docs/limitations.html" class="nav_link">Limitations</a></li></ol></aside><section class="main"><div class="main_article"><article><h1>Themes</h1>
<p>This chapter will introduce how to use themes and how to develop them.</p>
<p>If you want to see a list of all themes and their supported features, please visit <a href="/themes/">theme list</a>.</p>
<h2 id="how-to-use">How to use<a class="anchor" href="#how-to-use">§</a></h2>
<h3 id="official-theme">Official theme<a class="anchor" href="#official-theme">§</a></h3>
<p>Pagic has official themes default/docs/blog, which can be used by configuring <code>theme</code> in <code>pagic.config.ts</code>. The <code>default</code> theme will be used by default:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  theme<span class="token operator">:</span> <span class="token string">'default'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="third-party-theme">Third party theme<a class="anchor" href="#third-party-theme">§</a></h3>
<p>When using a third-party theme, the value of <code>theme</code> should be a complete URL:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  theme<span class="token operator">:</span> <span class="token string">'<a class="token url-link" href="https://raw.githubusercontent.com/xcatliu/pagic_theme_custom/master/mod.ts">https://raw.githubusercontent.com/xcatliu/pagic_theme_custom/master/mod.ts</a>'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="theme-supported-plugins">Theme supported plugins<a class="anchor" href="#theme-supported-plugins">§</a></h3>
<p>The theme determines how the page is displayed, and the plugin determines the features supported by the page.</p>
<p>After selecting the theme, we can add plugins to extend the features of the webpage, but only if the theme supports this plugin.</p>
<p>Take the <code>sidebar</code> plugin as an example. The <code>sidebar</code> plugin will display a configured sidebar on the left side of the page, but not all themes support this plugin. For example, the <code>default</code> theme is a very basic theme. It supports the most basic functions, so the <code>sidebar</code> plugin is not supported. However, both the <code>docs</code> theme and the <code>blog</code> theme support the <code>sidebar</code> plugin.</p>
<p>Generally, you can view the list of plugins supported by the theme's documentation.</p>
<h3 id="theme-configuration">Theme configuration<a class="anchor" href="#theme-configuration">§</a></h3>
<p>Theme-related options can be configured in <code>pagic.config.ts</code>, common options include <code>title</code>, <code>description</code>, <code>head</code>, etc. For their meaning and usage, please refer to the <a href="./config.html#page-content">Config</a> chapter.</p>
<h4 id="website-configuration-theme-configuration-plugin-configuration">Website configuration? Theme configuration? Plugin configuration?<a class="anchor" href="#website-configuration-theme-configuration-plugin-configuration">§</a></h4>
<p>You may have discovered that unlike some other static site generators that have different config files (or config items) for websites, themes and plugins, Pagic only has one config file <code>pagic.config.ts</code>.</p>
<p>You may have some doubts: Isn't this confusing? Will the configuration between the theme and the plugin conflict?</p>
<p>But in fact, Pagic’s design is justified:</p>
<h5 id="1-a-configuration-item-may-need-to-be-read-by-the-theme-and-plugin-at-the-same-time">1. A configuration item may need to be read by the theme and plugin at the same time<a class="anchor" href="#1-a-configuration-item-may-need-to-be-read-by-the-theme-and-plugin-at-the-same-time">§</a></h5>
<p>Take <code>sidebar</code> as an example, if we configure this <code>sidebar</code> in <code>pagic.config.ts</code>:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  sidebar<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'/docs/'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'docs/introduction.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/usage.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/config.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/content.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/layout.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/themes.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/plugins.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/blog.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/i18n.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/deployment.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/demos.md'</span><span class="token punctuation">,</span>
      <span class="token string">'docs/limitations.md'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Then:</p>
<ul>
<li>The <code>sidebar</code> plugin needs to parse it and convert it to <code>React.ReactElement</code></li>
<li><code>docs</code> theme needs to support rendering <code>sidebar</code>, and provide functions such as folding, SPA jump, etc.</li>
</ul>
<p>It can be seen that it is inappropriate to attribute the configuration of <code>sidebar</code> to the configuration of the theme, and it is also inappropriate to attribute the configuration of the plugin. There needs to be one place to manage this configuration.</p>
<h5 id="2-there-may-be-dependencies-between-plugins-and-plugins">2. There may be dependencies between plugins and plugins<a class="anchor" href="#2-there-may-be-dependencies-between-plugins-and-plugins">§</a></h5>
<p>Take the <code>prev_next</code> plugin as an example, it supports automatic insertion of links to the previous page and the next page at the bottom of the page. But it needs to rely on the configuration of <code>sidebar</code> to know what the link to the previous page is.</p>
<p>Therefore, the <code>prev_next</code> plugin needs to be able to read the configuration of the <code>sidebar</code>, so it is more appropriate to put the configuration in the <code>pagic.config.ts</code>.</p>
<h5 id="3-this-can-reduce-the-users-understanding-cost">3. This can reduce the user's understanding cost<a class="anchor" href="#3-this-can-reduce-the-users-understanding-cost">§</a></h5>
<p>Users don't need to think about whether a configuration belongs to a theme or a plugin. It can be configured in <code>pagic.config.ts</code>.</p>
<h5 id="but-how-to-ensure-that-the-configuration-between-various-third-party-themes-and-plugins-will-not-conflict">But how to ensure that the configuration between various third-party themes and plugins will not conflict?<a class="anchor" href="#but-how-to-ensure-that-the-configuration-between-various-third-party-themes-and-plugins-will-not-conflict">§</a></h5>
<p>First of all, the configuration items of the plugin are generally the same as the plugin name (for example, the <code>sidebar</code> plugin provides the <code>sidebar</code> configuration item), which ensures that there is generally no conflict between different plugins.</p>
<p>Second, we organize some common configuration items into documents. Developers of third-party themes and plugins should refer to <a href="./config.html">this document</a> as much as possible to avoid conflicts.</p>
<p>Finally, this design actually constrains the developers of third-party themes and plugins, so that everyone needs to design configuration items according to the same standard, which means that Pagic's third-party themes and plugins have higher quality and compatibility.</p>
<h2 id="how-to-develop-a-theme">How to develop a theme<a class="anchor" href="#how-to-develop-a-theme">§</a></h2>
<p>Congratulations, you are about to become a developer of Pagic theme!</p>
<p>As long as you understand the operating mechanism of Pagic theme, you can easily develop a Pagic theme.</p>
<h3 id="theme-operating-mechanism">Theme operating mechanism<a class="anchor" href="#theme-operating-mechanism">§</a></h3>
<p>The operating mechanism of Pagic theme is easy to understand, and can even be explained clearly in one sentence:</p>
<blockquote>
<p>When Pagic builds, it will first &quot;copy&quot; all the files in the theme to the user's project directory, and then run the <code>pagic build</code> script.</p>
</blockquote>
<p>For example, if a theme contains the following files:</p>
<pre class="language-autoit"><code class="language-autoit">pagic_theme_custom<span class="token operator">/</span>
<span class="highlighted-line">|── assets</span><span class="highlighted-line">|   └── index<span class="token punctuation">.</span>css</span><span class="highlighted-line">└── _layout<span class="token punctuation">.</span>tsx</span></code></pre><p>The directory structure of the user's project is as follows:</p>
<pre class="language-autoit"><code class="language-autoit">site<span class="token operator">/</span>
|── pagic<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ts
└── README<span class="token punctuation">.</span>tsx
</code></pre>
<p>Then when the user uses this theme, the directory structure of the user's project will &quot;become like this&quot;:</p>
<pre class="language-autoit"><code class="language-autoit">site<span class="token operator">/</span>
<span class="highlighted-line">|── assets</span><span class="highlighted-line">|   └── index<span class="token punctuation">.</span>css</span><span class="highlighted-line">|── _layout<span class="token punctuation">.</span>tsx</span>|── pagic<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ts
└── README<span class="token punctuation">.</span>tsx
</code></pre><p>At this time, when executing <code>pagic build</code>, <code>assets/index.css</code> will be copied to <code>dist/assets/index.css</code>, and <code>README.md</code> will be rendered with <code>_layout.tsx</code> as a template, and generate <code>dist/index.html</code>:</p>
<pre class="language-autoit"><code class="language-autoit">site<span class="token operator">/</span>
|── dist    # Output directory
|   |── assets
<span class="highlighted-line">|   |   └── index<span class="token punctuation">.</span>css</span>|   └── index<span class="token punctuation">.</span>html
|── assets
<span class="highlighted-line">|   └── index<span class="token punctuation">.</span>css</span>|── _layout<span class="token punctuation">.</span>tsx
|── pagic<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ts
└── README<span class="token punctuation">.</span>tsx
</code></pre><p>When Pagic builds, each page file (<code>md/tsx</code>) will follow the rules described in the <a href="./layout.html">_layout.tsx</a> chapter to find its corresponding template file.</p>
<p>A typical application is to write a sub-template in a theme, and then require the directory structure of the project using this theme to conform to this convention.</p>
<p>For example, the theme can create a <code>blog/_layout.tsx</code> file:</p>
<pre class="language-autoit"><code class="language-autoit">pagic_theme_custom<span class="token operator">/</span>
|── assets
|   └── index<span class="token punctuation">.</span>css
<span class="highlighted-line">|── blog</span><span class="highlighted-line">|   └── _layout<span class="token punctuation">.</span>tsx</span>└── _layout<span class="token punctuation">.</span>tsx
</code></pre><p>In this way, the pages under the user's <code>blog</code> directory will be rendered with <code>blog/_layout.tsx</code> as a template:</p>
<pre class="language-autoit"><code class="language-autoit">site<span class="token operator">/</span>
<span class="highlighted-line">|── blog</span><span class="highlighted-line">|   └── hello<span class="token punctuation">.</span>md # This page will be rendered <span class="token keyword">with</span> blog<span class="token operator">/</span>_layout<span class="token punctuation">.</span>tsx <span class="token keyword">in</span> the theme as a template</span>|── pagic<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ts
└── README<span class="token punctuation">.</span>tsx
</code></pre><p>It should be noted that the files in the theme will not be &quot;copied&quot; to the user's project directory. We can regard this &quot;copy&quot; as a virtual execution.</p>
<p>In addition, if there is a file path in the user's project that is the same as that in the theme, the file in the user's project shall prevail, that is, the file that allows the user to overwrite the theme.</p>
<h3 id="entry-file">Entry file<a class="anchor" href="#entry-file">§</a></h3>
<p>As mentioned before, when using a third-party theme, the value of <code>theme</code> should be an entry file URL:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  theme<span class="token operator">:</span> <span class="token string">'<a class="token url-link" href="https://raw.githubusercontent.com/xcatliu/pagic_theme_custom/master/mod.ts">https://raw.githubusercontent.com/xcatliu/pagic_theme_custom/master/mod.ts</a>'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>A typical <code>mod.ts</code> entry file is listed below:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  files<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'assets/index.css'</span><span class="token punctuation">,</span>
    <span class="token string">'assets/prism_tomorrow.css'</span><span class="token punctuation">,</span>
    <span class="token string">'assets/reset.css'</span><span class="token punctuation">,</span>
    <span class="token string">'assets/variables.css'</span><span class="token punctuation">,</span>
    <span class="token string">'_layout.tsx'</span><span class="token punctuation">,</span>
    <span class="token string">'favicon.ico'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>This entry file contains the following information:</p>
<h4 id="files"><code>files</code><a class="anchor" href="#files">§</a></h4>
<p><code>files</code> lists all the files of the theme, they will be &quot;copied&quot; to the user's project directory.</p>
<p>Why is it designed like this? Why can't it traverse all the files in the theme directory automatically?</p>
<p>Because Pagic needs to support an URL to configure the theme, and only one URL cannot traverse to which files are in the path. Just imagine how you can traverse <code>https://raw.githubusercontent.com/xcatliu/pagic_theme_custom/master</code>?</p>
<p>To sum up, although it is a bit troublesome, it is necessary to list all the files of the subject.</p>
<p>When you are developing a theme, you can run <code>pagic init</code> and select <code>theme</code> to automatically scan the files in the current directory and generate a <code>mod.ts</code>.</p>
<h3 id="props"><code>props</code><a class="anchor" href="#props">§</a></h3>
<p>The core file in the theme is <code>_layout.tsx</code>, and the most important thing to write <code>_layout.tsx</code> is to use its <code>props</code>.</p>
<p>The previous chapter has introduced <code>props</code>, if you need to know all the <code>props</code>, you can directly view <a href="./layout.html#props">_layout.tsx props</a>.</p>
<h3 id="reference-official-theme">Reference official theme<a class="anchor" href="#reference-official-theme">§</a></h3>
<p>The best reference for developing a theme is the official theme. You can directly <a href="https://github.com/xcatliu/pagic/tree/master/src/themes">view the source code of the official theme</a>.</p></article><div class="prev_next"><a class="prev button" href="/docs/layout.html">«  <!-- -->_layout.tsx</a><a class="next button" href="/docs/plugins.html">Plugins<!-- -->  »</a></div></div><div class="main_toc_container nav_link_container"><div class="main_toc"><aside><nav class="toc"><ol><li><a href="#how-to-use">How to use</a><ol><li><a href="#official-theme">Official theme</a></li><li><a href="#third-party-theme">Third party theme</a></li><li><a href="#theme-supported-plugins">Theme supported plugins</a></li><li><a href="#theme-configuration">Theme configuration</a><ol></ol></li></ol></li><li><a href="#how-to-develop-a-theme">How to develop a theme</a><ol><li><a href="#theme-operating-mechanism">Theme operating mechanism</a></li><li><a href="#entry-file">Entry file</a><ol></ol></li><li><a href="#props">props</a></li><li><a href="#reference-official-theme">Reference official theme</a></li></ol></li></ol></nav></aside></div></div></section><footer>Powered by<!-- --> <a href="https://github.com/xcatliu/pagic" target="_blank">Pagic</a></footer><script src="https://cdn.pagic.org/react@16.13.1/umd/react.production.min.js"></script><script src="https://cdn.pagic.org/react-dom@16.13.1/umd/react-dom.production.min.js"></script><script type="module" src="/index.js"></script></body></html>